import{c as P}from"./chunk-P3HWLSJF.js";import{A as T,E as I,Ka as D,O as b,Q as a,Qa as H,U as L,V as M,Va as u,Y as w,Z as l,_a as x,ba as O,ca as k,ea as C,ec as F,g as N,gb as B,h as g,i as m,j as f,l as h,o,vc as p,x as c,xa as y,y as j}from"./chunk-Z37IT2PE.js";var E=new w("HIGHLIGHT_OPTIONS"),_;function A(){if(!_)try{_=window?.trustedTypes?.createPolicy("ngx-highlightjs",{createHTML:r=>r})}catch{}return _}function S(r){return A()?.createHTML(r)||r}var V=(()=>{let i=class i{constructor(e,t,s){this.doc=e,this.platformId=t,this._options=s,this._ready=new N(null),this.ready=this._ready.asObservable().pipe(c(n=>!!n),I(1)),p(t)&&(e.defaultView.hljs?this._ready.next(e.defaultView.hljs):(this._loadLibrary().pipe(b(n=>this._options&&this._options.lineNumbersLoader?(e.defaultView.hljs=n,this.loadLineNumbers().pipe(a(d=>{d.activateLineNumbers(),this._ready.next(n)}))):(this._ready.next(n),m)),T(n=>(console.error("[HLJS] ",n),m))).subscribe(),this._options?.themePath&&this.loadTheme(this._options.themePath)))}_loadLibrary(){if(this._options){if(this._options.fullLibraryLoader&&this._options.coreLibraryLoader)return h(()=>"The full library and the core library were imported, only one of them should be imported!");if(this._options.fullLibraryLoader&&this._options.languages)return h(()=>"The highlighting languages were imported they are not needed!");if(this._options.coreLibraryLoader&&!this._options.languages)return h(()=>"The highlighting languages were not imported!");if(!this._options.coreLibraryLoader&&this._options.languages)return h(()=>"The core library was not imported!");if(this._options.fullLibraryLoader)return this.loadFullLibrary();if(this._options.coreLibraryLoader&&this._options.languages&&Object.keys(this._options.languages).length)return this.loadCoreLibrary().pipe(b(e=>this._loadLanguages(e)))}return h(()=>"Highlight.js library was not imported!")}_loadLanguages(e){let t=Object.entries(this._options.languages).map(([s,n])=>v(n()).pipe(a(d=>e.registerLanguage(s,d))));return j(...t).pipe(o(()=>e))}loadCoreLibrary(){return v(this._options.coreLibraryLoader())}loadFullLibrary(){return v(this._options.fullLibraryLoader())}loadLineNumbers(){return f(this._options.lineNumbersLoader())}setTheme(e){p(this.platformId)&&(this._themeLinkElement?this._themeLinkElement.href=e:this.loadTheme(e))}loadTheme(e){this._themeLinkElement=this.doc.createElement("link"),this._themeLinkElement.href=e,this._themeLinkElement.type="text/css",this._themeLinkElement.rel="stylesheet",this._themeLinkElement.media="screen,print",this.doc.head.appendChild(this._themeLinkElement)}};i.\u0275fac=function(t){return new(t||i)(l(F),l(y),l(E,8))},i.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})(),v=r=>f(r).pipe(c(i=>!!i?.default),o(i=>i.default)),z=(()=>{let i=class i{get hljs(){return this._hljs}constructor(e,t){this._loader=e,this._hljs=null,e.ready.subscribe(s=>{this._hljs=s,t&&t.config&&(s.configure(t.config),s.listLanguages().length<1&&console.error("[HighlightJS]: No languages were registered!"))})}highlight(e,{language:t,ignoreIllegals:s}){return this._loader.ready.pipe(o(n=>n.highlight(e,{language:t,ignoreIllegals:s})))}highlightAuto(e,t){return this._loader.ready.pipe(o(s=>s.highlightAuto(e,t)))}highlightElement(e){return this._loader.ready.pipe(o(t=>t.highlightElement(e)))}highlightAll(){return this._loader.ready.pipe(o(e=>e.highlightAll()))}configure(e){return this._loader.ready.pipe(o(t=>t.configure(e)))}registerLanguage(e,t){return this._loader.ready.pipe(a(s=>s.registerLanguage(e,t)))}unregisterLanguage(e){return this._loader.ready.pipe(a(t=>t.unregisterLanguage(e)))}registerAliases(e,{languageName:t}){return this._loader.ready.pipe(a(s=>s.registerAliases(e,{languageName:t})))}listLanguages(){return this._loader.ready.pipe(o(e=>e.listLanguages()))}getLanguage(e){return this._loader.ready.pipe(o(t=>t.getLanguage(e)))}safeMode(){return this._loader.ready.pipe(o(e=>e.safeMode()))}debugMode(){return this._loader.ready.pipe(o(e=>e.debugMode()))}lineNumbersBlock(e){return this._loader.ready.pipe(c(t=>!!t.lineNumbersBlock),a(t=>t.lineNumbersBlock(e)))}};i.\u0275fac=function(t){return new(t||i)(l(V),l(E,8))},i.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})(),ee=(()=>{let i=class i{constructor(e,t,s,n,d){this._hljs=t,this._sanitizer=s,this.platformId=n,this._options=d,this.highlighted=new x,this._nativeElement=e.nativeElement}ngOnChanges(e){p(this.platformId)&&e?.code?.currentValue!==null&&e.code.currentValue!==e.code.previousValue&&(this.code?this.highlightElement(this.code,this.languages):this.setTextContent(""))}highlightElement(e,t){this.setTextContent(e),this._hljs.highlightAuto(e,t).subscribe(s=>{this.setInnerHTML(s?.value),this.lineNumbers&&this._options&&this._options.lineNumbersLoader&&this.addLineNumbers(),this.highlighted.emit(s)})}addLineNumbers(){this.destroyLineNumbersObserver(),g.schedule(()=>{this._hljs.lineNumbersBlock(this._nativeElement).subscribe(),this._lineNumbersObs=new MutationObserver(()=>{this._nativeElement.firstElementChild&&this._nativeElement.firstElementChild.tagName.toUpperCase()==="TABLE"&&this._nativeElement.classList.add("hljs-line-numbers"),this.destroyLineNumbersObserver()}),this._lineNumbersObs.observe(this._nativeElement,{childList:!0})})}destroyLineNumbersObserver(){this._lineNumbersObs&&(this._lineNumbersObs.disconnect(),this._lineNumbersObs=null)}setTextContent(e){g.schedule(()=>this._nativeElement.textContent=e)}setInnerHTML(e){g.schedule(()=>this._nativeElement.innerHTML=S(this._sanitizer.sanitize(D.HTML,e)||""))}};i.\u0275fac=function(t){return new(t||i)(u(H),u(z),u(P),u(y),u(E,8))},i.\u0275dir=k({type:i,selectors:[["","highlight",""]],hostVars:2,hostBindings:function(t,s){t&2&&B("hljs",!0)},inputs:{code:["highlight","code"],languages:"languages",lineNumbers:"lineNumbers"},outputs:{highlighted:"highlighted"},standalone:!0,features:[C]});let r=i;return r})(),te=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=O({type:i}),i.\u0275inj=M({});let r=i;return r})();export{E as a,ee as b,te as c};
