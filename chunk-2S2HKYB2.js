import{e as le}from"./chunk-TZX5NIUE.js";import{a as ie,c as oe,d as re}from"./chunk-Q5WFXUKX.js";import{a as L,g as te,i as _}from"./chunk-AIOTMJMK.js";import"./chunk-ZWLOGJRW.js";import{a as K,b as Q,c as $,e as C,f as q,i as J,k as W,l as X,m as Y,o as Z,p as ee}from"./chunk-V6DSZBW7.js";import{a as ne}from"./chunk-EX6KPJX2.js";import{a as ae,b as se,c as pe,d as ue,e as de}from"./chunk-7B5XJ67J.js";import{b as me}from"./chunk-ZNMBS6VB.js";import"./chunk-2NHQWN5D.js";import"./chunk-62MZ54RB.js";import"./chunk-KW326CT5.js";import"./chunk-7EG655BJ.js";import{Ab as u,Cb as A,Fb as H,Ib as R,Ob as T,Pb as N,Qa as z,Rb as U,S as M,Sa as S,Ua as c,V as b,_ as h,_a as D,aa as f,ba as E,bc as j,ca as I,cb as O,cc as G,db as x,eb as d,gb as k,kb as B,lb as F,mb as w,nb as a,ob as o,pb as p,vb as m,wb as V,wc as y}from"./chunk-OPISKUNG.js";import"./chunk-CWTPBX7D.js";var P=(()=>{let n=class n{constructor(){this._elementRef=h(z),this._renderer=h(S),this.valuePaste=new D}get api(){return{focus:()=>{this._elementRef.nativeElement.focus()},nativeElement:this._elementRef.nativeElement}}ngOnInit(){this._placeholder=this._elementRef.nativeElement.getAttribute("placeholder")}_handleFocus(){this._renderer.removeAttribute(this._elementRef.nativeElement,"placeholder")}_handleBlur(){this._renderer.setAttribute(this._elementRef.nativeElement,"placeholder",this._placeholder)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["","ultPinInput",""]],hostBindings:function(t,i){t&1&&m("focus",function(r){return i._handleFocus(r)})("blur",function(r){return i._handleBlur(r)})},inputs:{index:"index",acceptOnly:"acceptOnly"},outputs:{valuePaste:"valuePaste"}});let l=n;return l})();function Ce(l,n){if(l&1&&p(0,"input",2),l&2){let he=n.$implicit,e=n.$index,t=V();d("size",t.size)("placeholder",t.placeholder)("formControl",he)("index",e)("acceptOnly",t.acceptOnly),x("disabled",t.disabled||null)}}var ce=(()=>{let n=class n{constructor(){this._fb=h(ee),this.length=4,this.size="default",this.placeholder="",this.acceptOnly=/^[0-9]+$/,this.disabled=!1,this.onChange=()=>{},this.onTouched=()=>{}}get controls(){return this.form.get("value").controls}ngOnInit(){let e=[];for(let t=0;t<this.length;t++)e.push(this._fb.control({value:"",disabled:this.disabled},[$.required]));this.form=this._fb.group({value:this._fb.array(e)})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=ne(e)}writeValue(e){if(!e){this.controls.forEach(t=>{t.setValue("")});return}e=String(e);for(let t=0;t<e.length;t++){let i=this.controls[t];i&&e[t].match(this.acceptOnly)&&i.setValue(e[t])}}_valuePaste(e){e.preventDefault(),e.stopPropagation();let t=e.clipboardData.getData("text/plain");console.log(t)}_handleKeyDown(e){if(console.log(e.key),e.key==="Backspace"||e.key==="Tab"){let t=e.target;e.key==="Backspace"&&!t.value&&this.inputs.forEach((i,s)=>{let r=e.target;if(i.api.nativeElement===r){let g=this.inputs.get(s-1);g&&g.api.focus()}});return}e.preventDefault(),e.stopPropagation()}_handleKeyUp(e){if(e.key==="Backspace"||e.key==="Tab"){this.onChange(this.form.value.value.join(""));return}if(!e.key.match(this.acceptOnly)){e.preventDefault(),e.stopPropagation();return}this.inputs.forEach((t,i)=>{let s=e.target;if(t.api.nativeElement===s){this.controls[i].setValue(e.key);let g=this.inputs.get(i+1);g&&g.api.focus()}}),this.onChange(this.form.value.value.join(""))}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f({type:n,selectors:[["ult-pin-input"]],viewQuery:function(t,i){if(t&1&&N(P,5),t&2){let s;T(s=U())&&(i.inputs=s)}},hostAttrs:[1,"ult-pin-input"],hostVars:2,hostBindings:function(t,i){t&1&&m("paste",function(r){return i._valuePaste(r)})("keydown",function(r){return i._handleKeyDown(r)})("keyup",function(r){return i._handleKeyUp(r)}),t&2&&k("is-disabled",i.disabled)},inputs:{length:["length","length",G],size:"size",placeholder:"placeholder",acceptOnly:"acceptOnly",disabled:["disabled","disabled",j]},exportAs:["ultPinInput"],features:[H([{provide:K,useExisting:M(()=>n),multi:!0}]),O],decls:4,vars:1,consts:[[3,"formGroup"],["formArrayName","value",1,"inputs"],["ultInput","","maxlength","1","ultPinInput","",1,"input",3,"size","placeholder","formControl","index","acceptOnly"],["ultInput","","class","input","maxlength","1","ultPinInput","",3,"size","placeholder","formControl","index","acceptOnly"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1),F(2,Ce,1,6,"input",3,B),o()()),t&2&&(d("formGroup",i.form),w(2,i.controls))},dependencies:[Q,C,q,Z,W,X,Y,te,P],styles:["[_nghost-%COMP%]{display:block;width:max-content;--ult-input-width: 0}[_nghost-%COMP%]   .inputs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--ult-pin-gap)}[_nghost-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center;flex:none;padding:0}"]});let l=n;return l})();var ge=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=E({type:n}),n.\u0275inj=b({imports:[y,_]});let l=n;return l})();var qe=(()=>{let n=class n{constructor(){this.importModule="import { UltPinInputModule } from '@ultima-ui/components';",this.sizePlayground={size:"default"},this.basicValue=""}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f({type:n,selectors:[["ng-component"]],standalone:!0,features:[R],decls:47,vars:7,consts:[[1,"grid","grid-cols-12","gap-10"],[1,"col-span-8","space-y-8"],[1,"space-y-6"],[1,"text-2xl","font-bold","mt-0"],[1,"mb-4"],[3,"code"],[3,"ngModel","ngModelChange"],[3,"size"],[1,"space-y-5"],["name","sizePlayground","value","sm",3,"ngModel","ngModelChange"],["name","sizePlayground","value","default",3,"ngModel","ngModelChange"],["name","sizePlayground","value","lg",3,"ngModel","ngModelChange"],["placeholder","\u26AC"],[1,"space-y-8"],["length","3"],["placeholder","\u26AC","length","6"],["placeholder","-","length","10"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),u(4,"Pin Input"),o()(),a(5,"div")(6,"div",4),u(7,"Import module:"),o(),p(8,"code-block",5),o(),a(9,"h2"),u(10,"Basic"),o(),a(11,"playground")(12,"playground-content")(13,"ult-pin-input",6),m("ngModelChange",function(r){return i.basicValue=r}),o()(),a(14,"playground-properties"),u(15),o(),p(16,"playground-controls"),o(),a(17,"h2"),u(18,"Size"),o(),a(19,"playground")(20,"playground-content"),p(21,"ult-pin-input",7),o(),a(22,"playground-properties")(23,"ult-form-field",8)(24,"ult-radio-group")(25,"ult-radio",9),m("ngModelChange",function(r){return i.sizePlayground.size=r}),u(26,"Small"),o(),a(27,"ult-radio",10),m("ngModelChange",function(r){return i.sizePlayground.size=r}),u(28,"Default"),o(),a(29,"ult-radio",11),m("ngModelChange",function(r){return i.sizePlayground.size=r}),u(30,"Large"),o()()()(),p(31,"playground-controls"),o(),a(32,"h2"),u(33,"Placeholder"),o(),a(34,"playground")(35,"playground-content"),p(36,"ult-pin-input",12),o(),p(37,"playground-controls"),o(),a(38,"h2"),u(39,"Length"),o(),a(40,"playground")(41,"playground-content")(42,"div",13),p(43,"ult-pin-input",14)(44,"ult-pin-input",15)(45,"ult-pin-input",16),o()(),p(46,"playground-controls"),o()()()),t&2&&(c(8),d("code",i.importModule),c(5),d("ngModel",i.basicValue),c(2),A(" Value: ",i.basicValue," "),c(6),d("size",i.sizePlayground.size),c(4),d("ngModel",i.sizePlayground.size),c(2),d("ngModel",i.sizePlayground.size),c(2),d("ngModel",i.sizePlayground.size))},dependencies:[y,ge,ce,me,de,ae,se,pe,ue,le,_,C,J,L,re,ie,oe],encapsulation:2});let l=n;return l})();export{qe as PinInputComponent};
