import{e as q,f as ne,h as re,k as se,l as le}from"./chunk-BABXWJEM.js";import{a as $}from"./chunk-O57A3VT7.js";import{a as ee}from"./chunk-G3PGNMAQ.js";import{b as oe}from"./chunk-3YTM6DSX.js";import{a as Q}from"./chunk-OLO7QV74.js";import{a as ie}from"./chunk-ZDQ2A3WC.js";import{a as te}from"./chunk-OPDM7W52.js";import{Cb as W,Kb as h,Lb as f,Mb as k,Nb as x,Ob as _,Pb as J,Qa as C,S as z,Sa as X,Ua as p,V as B,Y as L,Ya as Y,_ as s,_a as D,_b as v,aa as R,ab as U,ba as H,ca as m,cb as E,eb as d,ec as K,gb as b,hb as G,ib as S,kb as l,lb as a,mc as I,pb as T,qc as A,sb as y,ta as N,tb as O,tc as Z,ub as M,vb as g,xb as V,yb as j}from"./chunk-Z37IT2PE.js";var P=new L("UltSelect");var he=["contentRef"];function me(n,e){if(n&1&&T(0,4),n&2){let u=O();d("ngTemplateOutlet",u._checkIconRef.templateRef)}}var ge=["*"],ce=(()=>{let e=class e{constructor(){this._select=s(P,{skipSelf:!0}),this.keepOpen=!1}get _isSelected(){return this._select.api.isSelected(this.value)}get _checkIconRef(){return this._select.optionCheckIconRef}get api(){return{isSelected:()=>this._isSelected,nativeElement:()=>this._contentRef?.nativeElement}}_handleClick(){this._select.multiple?this._select.api.toggle(this.value):this._select.api.select(this.value),!this.keepOpen&&!this._select.multiple&&this._select.api.close()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=R({type:e,selectors:[["ult-option"],["","ultOption",""]],viewQuery:function(i,o){if(i&1&&k(he,7,C),i&2){let r;f(r=_())&&(o._contentRef=r.first)}},hostAttrs:[1,"ult-option"],hostVars:2,hostBindings:function(i,o){i&1&&y("click",function(){return o._handleClick()}),i&2&&b("is-selected",o._isSelected)},inputs:{value:"value",keepOpen:["keepOpen","keepOpen",v]},exportAs:["ultOption"],features:[E],ngContentSelectors:ge,decls:5,vars:1,consts:[[1,"content"],["contentRef",""],[1,"check"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(i,o){i&1&&(M(),l(0,"div",0,1),g(2),a(),l(3,"div",2),S(4,me,1,1,"ng-container",3),a()),i&2&&(p(4),d("ngIf",o._checkIconRef&&o._isSelected))},dependencies:[I,A],styles:["[_nghost-%COMP%]{display:flex;flex:none;font-size:var(--ult-option-font-size);align-items:center;position:relative;border-radius:var(--ult-option-border-radius);background:var(--ult-option-bg);color:var(--ult-option-color);white-space:nowrap;-webkit-user-select:none;user-select:none;cursor:pointer;gap:var(--ult-option-gap);min-width:0;overflow:hidden;min-height:var(--ult-option-height);padding:var(--ult-option-padding)}[_nghost-%COMP%]:not(.is-selected):hover{background:var(--ult-option-hover-bg);color:var(--ult-option-hover-color)}.is-selected[_nghost-%COMP%]{background:var(--ult-option-selected-bg);color:var(--ult-option-selected-color)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]   .check[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;color:var(--ult-option-check-icon-color)}[_nghost-%COMP%]   .check[_ngcontent-%COMP%]:empty{display:none}[_nghost-%COMP%]:has(.check:not(:empty)){padding-inline-end:var(--ult-option-has-check-padding-end)}"]});let n=e;return n})();var ae=(()=>{let e=class e{constructor(){this.templateRef=s(h,{optional:!0})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=m({type:e,selectors:[["","ultOptionCheckIcon",""]],hostAttrs:[1,"ult-option-check-icon"],exportAs:["ultOptionCheckIcon"]});let n=e;return n})();var pe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=m({type:e,selectors:[["","ultSelectValueRenderer",""]]});let n=e;return n})();var F=class{constructor(){this._positionsMap={top:[{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",panelClass:["ult-select-top-position"]},{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",panelClass:["ult-select-bottom-position"]}],bottom:[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",panelClass:["ult-popover-bottom-position"]},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",panelClass:["ult-popover-top-position"]}]}}build(e){return this._positionsMap[e]}};var fe=["*"],ue=(()=>{let e=class e{constructor(){this._elementRef=s(C),this._document=s(K),this._window=this._document.defaultView,this._requestAnimationFrame=this._getRequestAnimationFrame(),U(()=>{if(!this._requestAnimationFrame){this._scrollIntoView();return}this._requestAnimationFrame(()=>this._scrollIntoView())})}_scrollIntoView(){this.options.forEach(t=>{if(t.api.isSelected()){let i=this._elementRef.nativeElement,o=t.api.nativeElement();if(!this._isScrolledIntoView(o,i)){let r=i.getBoundingClientRect(),c=o.getBoundingClientRect();i.scrollTop=c.bottom-r.height/2}}})}_isScrolledIntoView(t,i){let o=t.getBoundingClientRect(),r=i.getBoundingClientRect();return o.top>=0&&o.bottom<=r.height}_getRequestAnimationFrame(){return this._window.requestAnimationFrame||this._window.webkitRequestAnimationFrame||this._window.mozRequestAnimationFrame||this._window.oRequestAnimationFrame||this._window.msRequestAnimationFrame}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=R({type:e,selectors:[["ult-options"]],hostAttrs:[1,"ult-options"],inputs:{options:"options"},exportAs:["ultOptions"],ngContentSelectors:fe,decls:1,vars:0,template:function(i,o){i&1&&(M(),g(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:var(--ult-select-options-gap);overflow-y:auto;box-shadow:var(--ult-select-options-shadow);border:var(--ult-select-options-border-width) solid var(--ult-select-options-border-color);border-radius:var(--ult-select-options-border-radius);background:var(--ult-select-options-bg);max-height:var(--ult-select-options-max-height);width:100%;padding:var(--ult-select-options-padding);margin:var(--ult-select-options-margin-y) 0;animation:.15s _ngcontent-%COMP%_ult-select-options-animation}@keyframes _ngcontent-%COMP%_ult-select-options-animation{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}"]});let n=e;return n})();var ve=["trigger"],Ce=["options"];function ye(n,e){if(n&1&&(l(0,"div",9),T(1,10),a()),n&2){let u=O();p(1),d("ngTemplateOutlet",u._valueRendererRef)}}function Oe(n,e){if(n&1&&(l(0,"div",9),V(1),a()),n&2){let u=O();p(1),j(u._triggerValue)}}function we(n,e){if(n&1&&(l(0,"div",11),V(1),a()),n&2){let u=O();p(1),j(u.placeholder)}}function Re(n,e){if(n&1&&(l(0,"ult-options",12),g(1,2),a()),n&2){let u=O();d("options",u._options)}}var Me=[[["","ultSelectClearIcon",""]],[["","ultSelectToggleIcon",""]],[["ult-option"],["ult-optgroup"]]],Pe=["[ultSelectClearIcon]","[ultSelectToggleIcon]","ult-option,ult-optgroup"],ut=(()=>{let e=class e{constructor(){this._formField=s($,{optional:!0}),this._renderer=s(X),this._injector=s(N),this._overlay=s(se),this._elementRef=s(C),this._directionality=s(ne,{optional:!0}),this._viewContainerRef=s(G),this._overlayRef=null,this._destroyRef=s(Y),this._mousePressed=!1,this._isOpen=!1,this.multiple=!1,this.roundedFull=!1,this.readonly=!1,this.invalid=!1,this.placeholder="",this.overlayPanelClass="",this._size="default",this.opened=new D,this.closed=new D,this._onChange=()=>{},this._onTouched=()=>{},this._focused=!1,this._triggerValue=""}set size(t){this._size=t,this._triggerElement&&this._renderer.setAttribute(this._triggerElement.nativeElement,"ult-select-trigger-size",this._size)}get id(){return this._formField?.id||null}get isEmpty(){return this.api.isEmpty()}get api(){return{isOpen:()=>this._isOpen,open:()=>this._open(),close:()=>this._close(),isSelected:t=>this._selectionModel?.isSelected(t),isEmpty:()=>this._selectionModel?.isEmpty(),select:t=>this._select(t),deselect:t=>this._deselect(t),toggle:t=>this._toggle(t),clear:()=>this._clear(),selectionModel:()=>this._selectionModel}}ngOnInit(){this._selectionModel=new Q(this.multiple,[]),this._renderer.setAttribute(this._triggerElement.nativeElement,"ult-select-trigger-size",this._size)}ngAfterContentInit(){this._makeValue(!1)}ngOnDestroy(){this._destroyOverlay()}get elementWith(){return this._elementRef.nativeElement.getBoundingClientRect().width+"px"}writeValue(t){this._selectionModel=new Q(this.multiple,t?[t]:[]),this._makeValue(!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=ie(t)}_setTriggerValue(t){this._triggerValue=t,this._onChange(this._selectionModel.isMultipleSelection()?this._selectionModel.selected:this._selectionModel.selected[0])}_overlayOutsideClick(t){let i=q(t),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&(this._isOpen=!1)}_toggleTrigger(){this._mousePressed=!1,this._isOpen?this._close():this._open()}_focusIn(){this._focused=!0}_focusOut(){this._mousePressed||(this._focused=!1)}_mousedown(){this._mousePressed=!0}_open(){this._isOpen||(this._isOpen=!0,this.opened.emit(),this._overlayRef=this._overlay.create(this._getOverlayConfig()),this._overlayRef.attach(this._getOptionsContentPortal()),this._subscribeToOutsideClicks())}_close(){this._mousePressed=!1,this._focused=!1,this._isOpen=!1,this.closed.next(),this._overlayRef?.detach()}_clear(){this._selectionModel.clear(),this._selectionModel.isMultipleSelection()?this._onChange([]):this._onChange(void 0),this._triggerValue=""}_destroyOverlay(){this._overlayRef?.dispose(),this._overlayRef=null}_subscribeToOutsideClicks(){this._overlayRef&&this._overlayRef.outsidePointerEvents().pipe(te(this._destroyRef)).subscribe(t=>{let i=q(t),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&this._close()})}_getOptionsContentPortal(){return this._optionsPortal||(this._optionsPortal=new oe(this._optionsTpl,this._viewContainerRef,null,this._injector)),this._optionsPortal}_getOverlayConfig(){return new re({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._directionality||void 0,width:this.elementWith})}_getOverlayPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition().withGrowAfterOpen().withPositions(this._getOverlayPositions())}_getOverlayPositions(){return new F().build("bottom")}_select(t){this._selectionModel.select(t),this._makeValue()}_deselect(t){this._selectionModel.deselect(t),this._makeValue()}_toggle(t){this._selectionModel.toggle(t),this._makeValue()}_makeValue(t=!0){if(!this._options)return;let i=this._options.filter(r=>r.api.isSelected()&&r.api.nativeElement()),o=i.map(r=>r.api.nativeElement().innerText);if(this._triggerValue=o.join(", "),t){let r=i.map(c=>c.value);this._onChange(this._selectionModel.isMultipleSelection()?r:r[0])}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=R({type:e,selectors:[["ult-select"]],contentQueries:function(i,o,r){if(i&1&&(x(r,pe,5,h),x(r,ae,5),x(r,ce,5)),i&2){let c;f(c=_())&&(o._valueRendererRef=c.first),f(c=_())&&(o.optionCheckIconRef=c.first),f(c=_())&&(o._options=c)}},viewQuery:function(i,o){if(i&1&&(k(ve,7,C),k(Ce,5,h)),i&2){let r;f(r=_())&&(o._triggerElement=r.first),f(r=_())&&(o._optionsTpl=r.first)}},hostAttrs:[1,"ult-select"],hostVars:14,hostBindings:function(i,o){i&2&&b("is-focused",o.api.isOpen()||o._focused)("is-opened",o.api.isOpen())("is-invalid",o.invalid)("is-disabled",o.disabled)("is-readonly",o.readonly)("is-rounded-full",o.roundedFull)("is-empty",o.isEmpty)},inputs:{multiple:["multiple","multiple",v],disabled:["disabled","disabled",v],roundedFull:["roundedFull","roundedFull",v],readonly:["readonly","readonly",v],invalid:["invalid","invalid",v],placeholder:"placeholder",overlayPanelClass:"overlayPanelClass",size:"size"},outputs:{opened:"opened",closed:"closed"},exportAs:["ultSelect"],features:[W([{provide:ee,useExisting:z(()=>e),multi:!0},{provide:P,useExisting:e}]),E],ngContentSelectors:Pe,decls:13,vars:5,consts:[["type","text",3,"focusin","focusout"],[1,"trigger","min-w-0","space-x-0",3,"mousedown","click"],["trigger",""],[1,"grow","overflow-hidden","min-w-0","rounded-inherit"],["class","value rounded-inherit",4,"ngIf"],["class","placeholder grow rounded-inherit",4,"ngIf"],[1,"clear"],[1,"toggle"],["options",""],[1,"value","rounded-inherit"],[3,"ngTemplateOutlet"],[1,"placeholder","grow","rounded-inherit"],[3,"options"]],template:function(i,o){i&1&&(M(Me),l(0,"input",0),y("focusin",function(){return o._focusIn()})("focusout",function(){return o._focusOut()}),a(),l(1,"div",1,2),y("mousedown",function(){return o._mousedown()})("click",function(){return o._toggleTrigger()}),l(3,"div",3),S(4,ye,2,1,"div",4)(5,Oe,2,1,"div",4)(6,we,2,1,"div",5),a(),l(7,"div",6),g(8),a(),l(9,"div",7),g(10,1),a()(),S(11,Re,2,1,"ng-template",null,8,J)),i&2&&(p(1),b("is-focused",o.api.isOpen()||o._focused),p(3),d("ngIf",o._valueRendererRef),p(1),d("ngIf",!o._valueRendererRef),p(1),d("ngIf",!o._triggerValue&&!o._valueRendererRef))},dependencies:[I,A,ue],styles:["[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   .trigger[_ngcontent-%COMP%]{cursor:pointer;position:relative;-webkit-user-select:none;user-select:none;overflow:hidden;display:flex;align-items:center;font-size:var(--ult-select-trigger-font-size);min-width:0;background:var(--ult-select-trigger-bg);color:var(--ult-select-trigger-color);border-radius:var(--ult-select-trigger-border-radius);height:var(--ult-select-trigger-height);flex:none;border:var(--ult-select-trigger-border-width) solid var(--ult-select-trigger-border-color);padding:var(--ult-select-trigger-padding);width:100%}[_nghost-%COMP%]   .trigger[_ngcontent-%COMP%]:not(.is-focused):hover{border-color:var(--ult-select-trigger-hover-border-color)}[_nghost-%COMP%]   .trigger.is-focused[_ngcontent-%COMP%]{border-color:var(--ult-select-trigger-focused-border-color)}.is-rounded-full[_nghost-%COMP%]   .trigger[_ngcontent-%COMP%]{--ult-select-border-radius: 624.9375rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{overflow:hidden;width:0;height:0;max-width:0;max-height:0;position:absolute;inset-inline-start:0;z-index:-1}.is-disabled[_nghost-%COMP%]{pointer-events:none;-webkit-user-select:none;user-select:none;opacity:var(--ult-disabled-opacity)}[_nghost-%COMP%]   .value[_ngcontent-%COMP%], [_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--ult-select-placeholder-color)}[_nghost-%COMP%]   .toggle[_ngcontent-%COMP%]{display:inline-flex;flex:none;align-items:center;justify-content:center;color:var(--ult-select-toggle-icon-color);transition:var(--ult-transition-all)}.is-opened[_nghost-%COMP%]   .toggle[_ngcontent-%COMP%]{transform:rotate(-180deg)}[_nghost-%COMP%]   .toggle[_ngcontent-%COMP%]:empty{display:none}[_nghost-%COMP%]:has(.toggle:not(:empty))   .trigger[_ngcontent-%COMP%], [_nghost-%COMP%]:has(.clear:not(:empty))   .trigger[_ngcontent-%COMP%]{padding-inline-end:var(--ult-select-trigger-has-toggle-or-clear-padding-end)}[_nghost-%COMP%]   .clear[_ngcontent-%COMP%]{display:inline-flex;flex:none;align-items:center;justify-content:center;cursor:pointer;color:var(--ult-select-clear-icon-color)}[_nghost-%COMP%]   .clear[_ngcontent-%COMP%]:hover{color:var(--ult-select-clear-icon-hover-color)}.is-empty[_nghost-%COMP%]   .clear[_ngcontent-%COMP%]{display:none}"]});let n=e;return n})();var gt=(()=>{let e=class e{constructor(){this.templateRef=s(h,{optional:!0})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=m({type:e,selectors:[["","ultSelectToggleIcon",""]],hostAttrs:[1,"ult-select-toggle-icon"],exportAs:["ultSelectToggleIcon"]});let n=e;return n})();var Ot=(()=>{let e=class e{constructor(){this.templateRef=s(h,{optional:!0}),this._select=s(P,{skipSelf:!0})}_handleClick(t){t.preventDefault(),t.stopPropagation(),this._select.api.clear()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=m({type:e,selectors:[["","ultSelectClearIcon",""]],hostAttrs:[1,"ult-select-clear-icon"],hostBindings:function(i,o){i&1&&y("click",function(c){return o._handleClick(c)})},exportAs:["ultSelectClearIcon"]});let n=e;return n})();var Pt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=H({type:e}),e.\u0275inj=B({imports:[Z,le]});let n=e;return n})();export{ce as a,ae as b,pe as c,ut as d,gt as e,Ot as f,Pt as g};
