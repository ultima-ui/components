import{a as D,d as x,h as R,m as S}from"./chunk-G3PGNMAQ.js";import{a as w}from"./chunk-ZDQ2A3WC.js";import{Cb as M,Fb as T,Qa as C,S as u,Sa as b,Ua as v,V as p,_ as a,aa as f,ba as h,ca as g,db as E,eb as _,kb as m,lb as r,sb as s,tc as l,v as d,xb as c,zb as y}from"./chunk-Z37IT2PE.js";import"./chunk-CWTPBX7D.js";var B=(()=>{let e=class e{constructor(){this._renderer=a(b),this._elementRef=a(C),this.contentType="text",this._observer=new MutationObserver(()=>{setTimeout(()=>{this._onChange(e.processValue(this.contentType==="html"?this._elementRef.nativeElement.innerHTML:this._elementRef.nativeElement.innerText))})}),this._onTouched=()=>{},this._onChange=()=>{}}_handleBlur(){this._onTouched()}ngAfterViewInit(){d(this._elementRef.nativeElement,"paste").subscribe(t=>{t.preventDefault(),t.stopPropagation(),this._renderer.setProperty(this._elementRef.nativeElement,"innerText",t.clipboardData.getData("text"))}),this._observer.observe(this._elementRef.nativeElement,{characterData:!0,childList:!0,subtree:!0})}ngOnDestroy(){this._observer.disconnect()}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"innerHTML",e.processValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._renderer.setAttribute(this._elementRef.nativeElement,"contenteditable",String(!w(t)))}static processValue(t){let n=String(t??"");return n.trim()==="<br>"?"":n}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=g({type:e,selectors:[["","ultContentEditableControl","","formControlName",""],["","ultContentEditableControl","","formControl",""],["","ultContentEditableControl","","ngModel",""]],hostVars:1,hostBindings:function(n,i){n&1&&s("blur",function(){return i._handleBlur()}),n&2&&E("contenteditable",!0)},inputs:{contentType:"contentType"},features:[M([{provide:D,useExisting:u(()=>e),multi:!0}])]});let o=e;return o})();var F=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=h({type:e}),e.\u0275inj=p({imports:[l]});let o=e;return o})();var W=(()=>{let e=class e{constructor(){this.content="Some content text"}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=f({type:e,selectors:[["ng-component"]],standalone:!0,features:[T],decls:5,vars:2,consts:[["ultContentEditableControl","","contentType","text",1,"bg-neutral-100","p-6","rounded-xl",3,"ngModel","ngModelChange"],[1,"mt-6"],[1,"mb-2","font-bold"]],template:function(n,i){n&1&&(m(0,"div",0),s("ngModelChange",function(N){return i.content=N}),r(),m(1,"div",1)(2,"div",2),c(3,"Content:"),r(),c(4),r()),n&2&&(_("ngModel",i.content),v(4),y(" ",i.content,`
`))},dependencies:[l,S,x,R,F,B],encapsulation:2});let o=e;return o})();export{W as ContenteditableComponent};
