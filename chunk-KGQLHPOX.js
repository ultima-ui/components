import{e as j,f as ne,h as se,k as re,l as le}from"./chunk-BABXWJEM.js";import{a as $}from"./chunk-O57A3VT7.js";import{a as ee}from"./chunk-G3PGNMAQ.js";import{b as oe}from"./chunk-3YTM6DSX.js";import{a as D}from"./chunk-OLO7QV74.js";import{a as ie}from"./chunk-ZDQ2A3WC.js";import{a as te}from"./chunk-OPDM7W52.js";import{Cb as G,Kb as u,Lb as f,Mb as k,Nb as V,Ob as _,Pb as W,Qa as h,S as Q,Sa as H,Ua as m,V as q,Y as z,Ya as N,_ as r,_a as I,_b as d,aa as v,ab as X,ba as B,ca as C,cb as E,eb as y,ec as J,gb as b,hb as Y,ib as R,kb as l,lb as c,mc as T,pb as U,qc as K,sb as g,ta as L,tb as S,tc as Z,ub as O,vb as p,xb as A,yb as F}from"./chunk-Z37IT2PE.js";var w=new z("UltSelect");var de=["contentRef"];function he(n,e){if(n&1&&U(0,4),n&2){let P=S();y("ngTemplateOutlet",P._checkIconRef.templateRef)}}var me=["*"],ce=(()=>{let e=class e{constructor(){this._select=r(w,{skipSelf:!0}),this.keepOpen=!1}get _isSelected(){return this._select.api.isSelected(this.value)}get _checkIconRef(){return this._select.optionCheckIconRef}get api(){return{isSelected:()=>this._isSelected,nativeElement:()=>this._contentRef?.nativeElement}}_handleClick(){this._select.multiple?this._select.api.toggle(this.value):this._select.api.select(this.value),!this.keepOpen&&!this._select.multiple&&this._select.api.close()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=v({type:e,selectors:[["ult-option"],["","ultOption",""]],viewQuery:function(i,o){if(i&1&&k(de,7,h),i&2){let s;f(s=_())&&(o._contentRef=s.first)}},hostAttrs:[1,"ult-option"],hostVars:2,hostBindings:function(i,o){i&1&&g("click",function(){return o._handleClick()}),i&2&&b("is-selected",o._isSelected)},inputs:{value:"value",keepOpen:["keepOpen","keepOpen",d]},exportAs:["ultOption"],features:[E],ngContentSelectors:me,decls:5,vars:1,consts:[[1,"content"],["contentRef",""],[1,"check"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(i,o){i&1&&(O(),l(0,"div",0,1),p(2),c(),l(3,"div",2),R(4,he,1,1,"ng-container",3),c()),i&2&&(m(4),y("ngIf",o._checkIconRef&&o._isSelected))},dependencies:[T,K],styles:["[_nghost-%COMP%]{display:flex;flex:none;font-size:var(--ult-option-font-size);align-items:center;position:relative;border-radius:var(--ult-option-border-radius);background:var(--ult-option-bg);color:var(--ult-option-color);white-space:nowrap;-webkit-user-select:none;user-select:none;cursor:pointer;gap:var(--ult-option-gap);min-width:0;overflow:hidden;min-height:var(--ult-option-height);padding:var(--ult-option-padding)}[_nghost-%COMP%]:not(.is-selected):hover{background:var(--ult-option-hover-bg);color:var(--ult-option-hover-color)}.is-selected[_nghost-%COMP%]{background:var(--ult-option-selected-bg);color:var(--ult-option-selected-color)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]   .check[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;color:var(--ult-option-check-icon-color)}[_nghost-%COMP%]   .check[_ngcontent-%COMP%]:empty{display:none}[_nghost-%COMP%]:has(.check:not(:empty)){padding-inline-end:var(--ult-option-has-check-padding-end)}"]});let n=e;return n})();var ae=(()=>{let e=class e{constructor(){this.templateRef=r(u,{optional:!0})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=C({type:e,selectors:[["","ultOptionCheckIcon",""]],hostAttrs:[1,"ult-option-check-icon"],exportAs:["ultOptionCheckIcon"]});let n=e;return n})();var x=class{constructor(){this._positionsMap={top:[{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",panelClass:["ult-select-top-position"]},{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",panelClass:["ult-select-bottom-position"]}],bottom:[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",panelClass:["ult-popover-bottom-position"]},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",panelClass:["ult-popover-top-position"]}]}}build(e){return this._positionsMap[e]}};var ge=["*"],pe=(()=>{let e=class e{constructor(){this._elementRef=r(h),this._document=r(J),this._window=this._document.defaultView,this._requestAnimationFrame=this._getRequestAnimationFrame(),X(()=>{if(!this._requestAnimationFrame){this._scrollIntoView();return}this._requestAnimationFrame(()=>this._scrollIntoView())})}_scrollIntoView(){this.options.forEach(t=>{if(t.api.isSelected()){let i=this._elementRef.nativeElement,o=t.api.nativeElement();if(!this._isScrolledIntoView(o,i)){let s=i.getBoundingClientRect(),a=o.getBoundingClientRect();i.scrollTop=a.bottom-s.height/2}}})}_isScrolledIntoView(t,i){let o=t.getBoundingClientRect(),s=i.getBoundingClientRect();return o.top>=0&&o.bottom<=s.height}_getRequestAnimationFrame(){return this._window.requestAnimationFrame||this._window.webkitRequestAnimationFrame||this._window.mozRequestAnimationFrame||this._window.oRequestAnimationFrame||this._window.msRequestAnimationFrame}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=v({type:e,selectors:[["ult-options"]],hostAttrs:[1,"ult-options"],inputs:{options:"options"},exportAs:["ultOptions"],ngContentSelectors:ge,decls:1,vars:0,template:function(i,o){i&1&&(O(),p(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:var(--ult-select-options-gap);overflow-y:auto;box-shadow:var(--ult-select-options-shadow);border:var(--ult-select-options-border-width) solid var(--ult-select-options-border-color);border-radius:var(--ult-select-options-border-radius);background:var(--ult-select-options-bg);max-height:var(--ult-select-options-max-height);width:100%;padding:var(--ult-select-options-padding);margin:var(--ult-select-options-margin-y) 0;animation:.15s _ngcontent-%COMP%_ult-select-options-animation}@keyframes _ngcontent-%COMP%_ult-select-options-animation{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}"]});let n=e;return n})();var _e=["trigger"],ve=["options"];function Ce(n,e){if(n&1&&(l(0,"div",9),A(1),c()),n&2){let P=S();m(1),F(P.placeholder)}}function ye(n,e){if(n&1&&(l(0,"ult-options",10),p(1,2),c()),n&2){let P=S();y("options",P._options)}}var Oe=[[["","ultSelectClearIcon",""]],[["","ultSelectToggleIcon",""]],[["ult-option"],["ult-optgroup"]]],we=["[ultSelectClearIcon]","[ultSelectToggleIcon]","ult-option,ult-optgroup"],rt=(()=>{let e=class e{constructor(){this._formField=r($,{optional:!0}),this._renderer=r(H),this._injector=r(L),this._overlay=r(re),this._elementRef=r(h),this._directionality=r(ne,{optional:!0}),this._viewContainerRef=r(Y),this._overlayRef=null,this._destroyRef=r(N),this._mousePressed=!1,this._isOpen=!1,this.multiple=!1,this.roundedFull=!1,this.readonly=!1,this.invalid=!1,this.placeholder="",this.overlayPanelClass="",this._size="default",this.opened=new I,this.closed=new I,this._onChange=()=>{},this._onTouched=()=>{},this._focused=!1,this._triggerValue=""}set size(t){this._size=t,this._triggerElement&&this._renderer.setAttribute(this._triggerElement.nativeElement,"ult-select-trigger-size",this._size)}get id(){return this._formField?.id||null}get isEmpty(){return this.api.isEmpty()}get api(){return{isOpen:()=>this._isOpen,open:()=>this._open(),close:()=>this._close(),isSelected:t=>this._selectionModel?.isSelected(t),isEmpty:()=>this._selectionModel?.isEmpty(),select:t=>this._select(t),deselect:t=>this._deselect(t),toggle:t=>this._toggle(t),clear:()=>this._clear(),selectionModel:()=>this._selectionModel}}ngOnInit(){this._selectionModel=new D(this.multiple,[]),this._renderer.setAttribute(this._triggerElement.nativeElement,"ult-select-trigger-size",this._size)}ngAfterContentInit(){this._makeValue(!1)}ngOnDestroy(){this._destroyOverlay()}get elementWith(){return this._elementRef.nativeElement.getBoundingClientRect().width+"px"}writeValue(t){this._selectionModel=new D(this.multiple,t?[t]:[]),this._makeValue(!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=ie(t)}_setTriggerValue(t){this._triggerValue=t,this._onChange(this._selectionModel.isMultipleSelection()?this._selectionModel.selected:this._selectionModel.selected[0])}_overlayOutsideClick(t){let i=j(t),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&(this._isOpen=!1)}_toggleTrigger(){this._mousePressed=!1,this._isOpen?this._close():this._open()}_focusIn(){this._focused=!0}_focusOut(){this._mousePressed||(this._focused=!1)}_mousedown(){this._mousePressed=!0}_open(){this._isOpen||(this._isOpen=!0,this.opened.emit(),this._overlayRef=this._overlay.create(this._getOverlayConfig()),this._overlayRef.attach(this._getOptionsContentPortal()),this._subscribeToOutsideClicks())}_close(){this._mousePressed=!1,this._focused=!1,this._isOpen=!1,this.closed.next(),this._overlayRef?.detach()}_clear(){this._selectionModel.clear(),this._selectionModel.isMultipleSelection()?this._onChange([]):this._onChange(void 0),this._triggerValue=""}_destroyOverlay(){this._overlayRef?.dispose(),this._overlayRef=null}_subscribeToOutsideClicks(){this._overlayRef&&this._overlayRef.outsidePointerEvents().pipe(te(this._destroyRef)).subscribe(t=>{let i=j(t),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&this._close()})}_getOptionsContentPortal(){return this._optionsPortal||(this._optionsPortal=new oe(this._optionsTpl,this._viewContainerRef,null,this._injector)),this._optionsPortal}_getOverlayConfig(){return new se({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._directionality||void 0,width:this.elementWith})}_getOverlayPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition().withGrowAfterOpen().withPositions(this._getOverlayPositions())}_getOverlayPositions(){return new x().build("bottom")}_select(t){this._selectionModel.select(t),this._makeValue()}_deselect(t){this._selectionModel.deselect(t),this._makeValue()}_toggle(t){this._selectionModel.toggle(t),this._makeValue()}_makeValue(t=!0){if(!this._options)return;let i=this._options.filter(s=>s.api.isSelected()&&s.api.nativeElement()),o=i.map(s=>s.api.nativeElement().innerText);if(this._triggerValue=o.join(", "),t){let s=i.map(a=>a.value);this._onChange(this._selectionModel.isMultipleSelection()?s:s[0])}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=v({type:e,selectors:[["ult-select"]],contentQueries:function(i,o,s){if(i&1&&(V(s,ae,5),V(s,ce,5)),i&2){let a;f(a=_())&&(o.optionCheckIconRef=a.first),f(a=_())&&(o._options=a)}},viewQuery:function(i,o){if(i&1&&(k(_e,7,h),k(ve,5,u)),i&2){let s;f(s=_())&&(o._triggerElement=s.first),f(s=_())&&(o._optionsTpl=s.first)}},hostAttrs:[1,"ult-select"],hostVars:14,hostBindings:function(i,o){i&2&&b("is-focused",o.api.isOpen()||o._focused)("is-opened",o.api.isOpen())("is-invalid",o.invalid)("is-disabled",o.disabled)("is-readonly",o.readonly)("is-rounded-full",o.roundedFull)("is-empty",o.isEmpty)},inputs:{multiple:["multiple","multiple",d],disabled:["disabled","disabled",d],roundedFull:["roundedFull","roundedFull",d],readonly:["readonly","readonly",d],invalid:["invalid","invalid",d],placeholder:"placeholder",overlayPanelClass:"overlayPanelClass",size:"size"},outputs:{opened:"opened",closed:"closed"},exportAs:["ultSelect"],features:[G([{provide:ee,useExisting:Q(()=>e),multi:!0},{provide:w,useExisting:e}]),E],ngContentSelectors:we,decls:13,vars:4,consts:[["type","text",3,"focusin","focusout"],[1,"trigger","min-w-0","space-x-0",3,"mousedown","click"],["trigger",""],[1,"grow","overflow-hidden","min-w-0","rounded-inherit"],[1,"value","rounded-inherit"],["class","placeholder grow rounded-inherit",4,"ngIf"],[1,"clear"],[1,"toggle"],["options",""],[1,"placeholder","grow","rounded-inherit"],[3,"options"]],template:function(i,o){i&1&&(O(Oe),l(0,"input",0),g("focusin",function(){return o._focusIn()})("focusout",function(){return o._focusOut()}),c(),l(1,"div",1,2),g("mousedown",function(){return o._mousedown()})("click",function(){return o._toggleTrigger()}),l(3,"div",3)(4,"div",4),A(5),c(),R(6,Ce,2,1,"div",5),c(),l(7,"div",6),p(8),c(),l(9,"div",7),p(10,1),c()(),R(11,ye,2,1,"ng-template",null,8,W)),i&2&&(m(1),b("is-focused",o.api.isOpen()||o._focused),m(4),F(o._triggerValue),m(1),y("ngIf",!o._triggerValue))},dependencies:[T,pe],styles:["[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   .trigger[_ngcontent-%COMP%]{cursor:pointer;position:relative;-webkit-user-select:none;user-select:none;overflow:hidden;display:flex;align-items:center;font-size:var(--ult-select-trigger-font-size);min-width:0;background:var(--ult-select-trigger-bg);color:var(--ult-select-trigger-color);border-radius:var(--ult-select-trigger-border-radius);height:var(--ult-select-trigger-height);flex:none;border:var(--ult-select-trigger-border-width) solid var(--ult-select-trigger-border-color);padding:var(--ult-select-trigger-padding);width:100%}[_nghost-%COMP%]   .trigger[_ngcontent-%COMP%]:not(.is-focused):hover{border-color:var(--ult-select-trigger-hover-border-color)}[_nghost-%COMP%]   .trigger.is-focused[_ngcontent-%COMP%]{border-color:var(--ult-select-trigger-focused-border-color)}.is-rounded-full[_nghost-%COMP%]   .trigger[_ngcontent-%COMP%]{--ult-select-border-radius: 624.9375rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{overflow:hidden;width:0;height:0;max-width:0;max-height:0;position:absolute;inset-inline-start:0;z-index:-1}.is-disabled[_nghost-%COMP%]{pointer-events:none;-webkit-user-select:none;user-select:none;opacity:var(--ult-disabled-opacity)}[_nghost-%COMP%]   .value[_ngcontent-%COMP%], [_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--ult-select-placeholder-color)}[_nghost-%COMP%]   .toggle[_ngcontent-%COMP%]{display:inline-flex;flex:none;align-items:center;justify-content:center;color:var(--ult-select-toggle-icon-color);transition:var(--ult-transition-all)}.is-opened[_nghost-%COMP%]   .toggle[_ngcontent-%COMP%]{transform:rotate(-180deg)}[_nghost-%COMP%]   .toggle[_ngcontent-%COMP%]:empty{display:none}[_nghost-%COMP%]:has(.toggle:not(:empty))   .trigger[_ngcontent-%COMP%], [_nghost-%COMP%]:has(.clear:not(:empty))   .trigger[_ngcontent-%COMP%]{padding-inline-end:var(--ult-select-trigger-has-toggle-or-clear-padding-end)}[_nghost-%COMP%]   .clear[_ngcontent-%COMP%]{display:inline-flex;flex:none;align-items:center;justify-content:center;cursor:pointer;color:var(--ult-select-clear-icon-color)}[_nghost-%COMP%]   .clear[_ngcontent-%COMP%]:hover{color:var(--ult-select-clear-icon-hover-color)}.is-empty[_nghost-%COMP%]   .clear[_ngcontent-%COMP%]{display:none}"]});let n=e;return n})();var pt=(()=>{let e=class e{constructor(){this.templateRef=r(u,{optional:!0})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=C({type:e,selectors:[["","ultSelectToggleIcon",""]],hostAttrs:[1,"ult-select-toggle-icon"],exportAs:["ultSelectToggleIcon"]});let n=e;return n})();var ft=(()=>{let e=class e{constructor(){this.templateRef=r(u,{optional:!0}),this._select=r(w,{skipSelf:!0})}_handleClick(t){t.preventDefault(),t.stopPropagation(),this._select.api.clear()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=C({type:e,selectors:[["","ultSelectClearIcon",""]],hostAttrs:[1,"ult-select-clear-icon"],hostBindings:function(i,o){i&1&&g("click",function(a){return o._handleClick(a)})},exportAs:["ultSelectClearIcon"]});let n=e;return n})();var yt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=B({type:e}),e.\u0275inj=q({imports:[Z,le]});let n=e;return n})();export{ce as a,ae as b,rt as c,pt as d,ft as e,yt as f};
